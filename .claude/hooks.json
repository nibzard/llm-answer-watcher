{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "file=$(jq -r '.tool_input.file_path // empty'); protected_files=('SPECS.md' '.claude/agents/developer.md' '.claude/agents/tester.md' '.claude/agents/reviewer.md'); for pf in \"${protected_files[@]}\"; do if [[ \"$file\" == *\"$pf\" ]]; then echo \"\\nâš ï¸  WARNING: Modifying protected file: $file\"; echo \"ğŸ’¡ This file is critical to the project. Make sure changes are intentional.\"; break; fi; done"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "file=$(jq -r '.tool_input.file_path // empty'); if [ -n \"$file\" ] && [ -f \"$file\" ] && [[ \"$file\" == *.py ]]; then if command -v ruff &> /dev/null; then echo \"\\nğŸ” Running ruff on $file...\"; if ruff check \"$file\" --fix --quiet; then echo \"âœ… Ruff check passed\"; else echo \"âš ï¸  Ruff found issues - review the file\"; fi; else echo \"â„¹ï¸  Ruff not installed yet (run: pip install ruff)\"; fi; fi"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "if git rev-parse --git-dir > /dev/null 2>&1; then changed=$(git status --porcelain 2>/dev/null | wc -l); if [ \"$changed\" -gt 0 ]; then echo \"\\nğŸ“ Git Status: $changed file(s) modified\"; git status --short 2>/dev/null | head -5; if [ \"$changed\" -gt 5 ]; then echo \"   ... and $((changed - 5)) more\"; fi; echo \"\"; echo \"ğŸ’¡ Conventional commit format:\"; echo \"   feat: add new feature\"; echo \"   fix: bug fix\"; echo \"   docs: documentation changes\"; echo \"   refactor: code refactoring\"; echo \"   test: add or update tests\"; echo \"   chore: maintenance tasks\"; echo \"\"; echo \"ğŸ“Œ Tip: Use 'git add -p' to stage changes interactively\"; fi; fi"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "echo \"\\nğŸš€ LLM Answer Watcher Development Session\"; echo \"ğŸ“‹ Project hooks active: ruff linting, git reminders\"; if git rev-parse --git-dir > /dev/null 2>&1; then branch=$(git branch --show-current 2>/dev/null); echo \"ğŸŒ¿ Git branch: $branch\"; fi; if [ -f SPECS.md ]; then echo \"ğŸ“„ SPECS.md found\"; fi; if [ -d .claude/agents ]; then agent_count=$(ls -1 .claude/agents/*.md 2>/dev/null | wc -l); echo \"ğŸ¤– $agent_count subagent(s) available\"; fi; echo \"\""
          }
        ]
      }
    ]
  }
}
